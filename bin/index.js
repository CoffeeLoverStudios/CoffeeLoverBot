// Generated by CoffeeScript 1.12.7
(function() {
  var Discord, Express, app, client, server;

  Discord = require('discord.js');

  Express = require('express');

  app = new Express;

  app.get('/', function(req, res) {
    return res.send('Hello from the other siiidddeee');
  });

  app.post('/discord_redirect', function(req, res) {
    return console.log('Request: ' + req);
  });

  client = new Discord.Client;

  if (process.env.BOT_TOKEN === void 0) {
    console.log('No token specified!');
    return;
  }

  client.on('ready', function() {
    return console.log('CoffeeBot started');
  });

  client.on('message', function(message) {
    if (message.content === 'bot?') {
      return message.reply('YOU WHAT?!');
    }
  });

  client.on('guildMemberAdd', function(member) {
    var channel;
    channel = member.guild.channels.find('name', 'member-log');
    if (!channel) {
      return;
    }
    return channel.send('Welcome, *${member}*');
  });

  client.login(process.env.BOT_TOKEN);

  server = app.listen(process.env.port || 3000, function() {
    var host, port;
    host = server.address().address;
    port = server.address().port;
    return console.log('Listening at \'%s:%s\'', host, port);
  });

}).call(this);
